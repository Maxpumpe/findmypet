(this["webpackJsonpreact-demo-app-saga"]=this["webpackJsonpreact-demo-app-saga"]||[]).push([[6],{169:function(e,t,i){"use strict";var r=i(30),s=i(31),n=i(32),c=i(33),a=i(1),o=i(3),l=function(e){Object(n.a)(i,e);var t=Object(c.a)(i);function i(e){return Object(r.a)(this,i),t.call(this,e)}return Object(s.a)(i,[{key:"render",value:function(){var e=this.props.data,t=this.props.alertClass;return Object(o.jsxs)("div",{className:"alert alert-".concat(t," alert-dismissible fade show"),role:"alert",children:[e.constructor===String&&Object(o.jsxs)("li",{children:[" ",e]}),e.constructor===Object&&Object.keys(e).map((function(t){return Object(o.jsxs)("li",{children:[t," ",e[t]]},t)})),e.constructor===Array&&e.map((function(e,t){return Object(o.jsx)("li",{children:e.msg},t)})),Object(o.jsx)("button",{type:"button",className:"close","data-dismiss":"alert","aria-label":"Close",children:Object(o.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]})}}]),i}(a.Component);t.a=l},197:function(e,t,i){},333:function(e,t,i){"use strict";i.r(t);var r=i(30),s=i(31),n=i(32),c=i(33),a=i(1),o=i(52),l=i(20),d=i(9),b=i(183),u=i(184),p=(i(197),i(169)),j=i(14),h=i(10),m=i(3),O=function(e){Object(n.a)(i,e);var t=Object(c.a)(i);function i(e){var s;return Object(r.a)(this,i),(s=t.call(this,e)).state={id:null,isEditing:!1},s}return Object(s.a)(i,[{key:"componentDidMount",value:function(){var e=this.props.match.params.id;e&&(this.props.getBookDetail(e),this.setState({id:e,isEditing:!0}))}},{key:"render",value:function(){var e=this,t={title:"",description:"",isbn:""};return Object.keys(this.props.selectedBook).length>0&&(t=this.props.selectedBook),Object(m.jsxs)("div",{className:"container",children:[Object(m.jsx)("div",{className:"row",children:Object(m.jsx)("div",{className:"col-md-6",children:Object.keys(this.props.errors).length>0&&Object(m.jsx)("div",{children:Object(m.jsx)(p.a,{data:this.props.errors.data?this.props.errors.data:this.props.errors.message,alertClass:"danger"})})})}),Object(m.jsx)("div",{className:"row",children:Object(m.jsxs)("div",{className:"col-md-6",children:[Object(m.jsxs)("h1",{className:"display-4",children:[this.state.isEditing?"Update":"Add"," Book ",Object(m.jsx)(l.a,{to:"/book",className:"btn btn-primary btn-sm",children:"All Books"})]}),Object(m.jsx)(b.b,{initialValues:t,enableReinitialize:!0,onSubmit:this.props.onSubmitForm(this.state),validationSchema:u.a().shape({title:u.c().required("Required"),isbn:u.c().required("Required"),description:u.c().required("Required")}),children:function(t){var i=t.values,r=t.touched,s=t.errors,n=t.isValid,c=t.handleChange,a=t.handleBlur,o=t.handleSubmit;return Object(m.jsxs)("form",{onSubmit:o,children:[Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsx)("label",{htmlFor:"title",children:"Book Title"}),Object(m.jsx)("input",{type:"text",id:"title",value:i.title,onChange:c,onBlur:a,className:s.title&&r.title?"form-control text-input error":"form-control text-input",placeholder:"Enter title"}),s.title&&r.title&&Object(m.jsx)("div",{className:"input-feedback",children:s.title})]}),Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsx)("label",{htmlFor:"isbn",children:"ISBN"}),Object(m.jsx)("input",{type:"text",id:"isbn",value:i.isbn,onChange:c,onBlur:a,className:s.isbn&&r.isbn?"form-control text-input error":"form-control text-input",placeholder:"isbn"}),s.isbn&&r.isbn&&Object(m.jsx)("div",{className:"input-feedback",children:s.isbn})]}),Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsx)("label",{htmlFor:"description",children:"Book Description"}),Object(m.jsx)("textarea",{id:"description",value:i.description,onChange:c,onBlur:a,className:s.description&&r.description?"form-control text-input error":"form-control text-input",placeholder:"description"}),s.description&&r.description&&Object(m.jsx)("div",{className:"input-feedback",children:s.description})]}),Object(m.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:!n,children:e.state.id?"Update":"Add"})]})}})]})})]})}}],[{key:"getDerivedStateFromProps",value:function(e,t){var i=e.match.params.id;if(null!==i&&0===Object.keys(e.selectedBook).length){if(!1!==t.isEditing)return{id:null,isEditing:!1}}else if(!0!==t.isEditing)return{id:i,isEditing:!0};return null}}]),i}(a.Component);t.default=Object(o.b)((function(e){return{errors:e.books.manage_book.errors,selectedBook:e.books.list_book.selectedBook}}),(function(e){return{onSubmitForm:function(t){return function(i){void 0!==i&&i.preventDefault&&i.preventDefault(),t.isEditing?e(Object(j.m)(i,t.id)):e(Object(j.j)(i))}},onPageInit:e(Object(j.i)()),getBookDetail:function(t){return e(Object(h.q)(t))}}}))(Object(d.g)(O))}}]);
//# sourceMappingURL=6.f3d086e1.chunk.js.map