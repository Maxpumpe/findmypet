{"version":3,"sources":["components/FlashMessage/FlashMessage.jsx","modules/Book/bookModel.jsx","modules/Book/index.jsx"],"names":["FlashMessage","props","data","this","alertClass","className","role","constructor","String","Object","keys","map","key","Array","item","index","msg","type","Component","BookModel","handleCloseClick","bind","handleDeleteClick","handleModalCloseClick","$","window","modal","on","id","isForDelete","selectedBook","title","isbn","description","createdAt","ref","tabIndex","showModelBody","onClick","Book","handleModalShowClick","state","event","getBookDetail","currentTarget","dataset","setState","deleteBookRequest","detailModalClose","getBooks","releaseData","handleModalShow","books","length","colSpan","scope","style","_id","to","errors","message","selectedBookError","deleteBook","renderBooks","connect","list_book","dispatch","bookPageInit","bookDetailInit","bookDetailClose","bookDeleteInit","releaseStateData","withRouter"],"mappings":"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","file":"static/js/7.69e635be.chunk.js","sourcesContent":["import React, {Component} from 'react';\n\nclass FlashMessage extends Component {\n    constructor(props) {\n        super(props);\n    }\n\n    render() {\n        const { data } = this.props;\n        const { alertClass } = this.props;\n        return (\n            <div className={`alert alert-${alertClass} alert-dismissible fade show`} role=\"alert\">\n                {data.constructor === String && <li> {data}</li>}\n                {data.constructor === Object &&\n                    Object.keys(data).map(key => {\n                    return (\n                        <li key={key}>\n                        {key} {data[key]}\n                        </li>\n                    );\n                    })}\n                {data.constructor === Array &&\n                    data.map((item, index) => {\n                    return <li key={index}>{item.msg}</li>;\n                    })}\n                <button type=\"button\" className=\"close\" data-dismiss=\"alert\" aria-label=\"Close\">\n                    <span aria-hidden=\"true\">&times;</span>\n                </button>\n            </div>\n        )\n    }\n}\n\nexport default FlashMessage;\n","import React, {Component} from 'react';\n\nclass BookModel extends Component {    \n    constructor(props) {\n        super(props);\n        this.handleCloseClick = this.handleCloseClick.bind(this);\n        this.handleDeleteClick = this.handleDeleteClick.bind(this);\n    }\n    componentDidMount() {\n        const { handleModalCloseClick } = this.props;\n        const $ = window.$;\n        $(this.modal).on('hidden.bs.modal', handleModalCloseClick);\n    }\n    handleCloseClick() {\n        const $ = window.$;\n        const { handleModalCloseClick } = this.props;\n        $(this.modal).modal('hide');\n        handleModalCloseClick();\n    }\n\n    handleDeleteClick(id) {\n        const $ = window.$;\n        $(this.modal).modal('hide');\n        const { handleDeleteClick } = this.props;\n        handleDeleteClick(id);\n    }\n\n    showModelBody() {\n        const { isForDelete } = this.props;\n        if(!isForDelete) {\n            return (\n                <div>\n                    <p><b>Book Title:</b> {this.props.selectedBook.title} </p>\n                    <p><b>Book ISBN:</b> {this.props.selectedBook.isbn} </p>\n                    <p><b>Book Description:</b> {this.props.selectedBook.description} </p>\n                    <p><b>Stored time:</b> {this.props.selectedBook.createdAt} </p>\n                </div>\n            );\n        }else{\n            return (\n                <div>\n                    <p>Are you sure to Delete Book: <b>{this.props.selectedBook.title}</b> ?</p>\n                </div>\n            );\n        }\n    }\n\n    render() {\n        return (\n            <div className=\"modal fade\" ref={modal => this.modal = modal} id=\"exampleModal\" tabIndex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\n                <div className=\"modal-dialog\" role=\"document\">\n                    <div className=\"modal-content\">\n                    <div className=\"modal-header\">\n                        <h5 className=\"modal-title\" id=\"exampleModalLabel\">Book : {this.props.selectedBook.title}</h5>\n                        <button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n                        <span aria-hidden=\"true\">&times;</span>\n                        </button>\n                    </div>\n                    <div className=\"modal-body\">\n                        {this.showModelBody()}\n                    </div>\n                    <div className=\"modal-footer\">\n                        {this.props.isForDelete &&\n                            <button type=\"button\" className=\"btn btn-danger\" data-dismiss=\"modal\" onClick={() => this.handleDeleteClick(this.props.selectedBook.id)}>Delete</button>\n                        }\n                        <button type=\"button\" className=\"btn btn-secondary\" data-dismiss=\"modal\">Close</button>\n                    </div>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default BookModel;","import React, {Component} from 'react';\nimport { connect } from 'react-redux';\nimport { Link, withRouter } from 'react-router-dom';\nimport './book.css';\nimport PropTypes from 'prop-types';\nimport { bookPageInit,bookDetailInit,bookDetailClose,bookDeleteInit,releaseStateData }  from './actions';\nimport FlashMessage from '../../components/FlashMessage/FlashMessage';\nimport ViewBookModel from './bookModel';\n\nclass Book extends Component {\n    constructor(props) {\n        super(props);\n        this.handleModalShowClick = this.handleModalShowClick.bind(this);\n        this.handleModalCloseClick = this.handleModalCloseClick.bind(this);\n        this.handleDeleteClick = this.handleDeleteClick.bind(this);\n        this.state = {\n            isForDelete:false\n        }\n    }\n\n    handleModalShowClick (isForDelete) {\n        return event => {\n            this.props.getBookDetail(event.currentTarget.dataset.id);\n            if(isForDelete){\n                this.setState({\n                    isForDelete: true\n                })\n            }\n        }\n    }\n\n    handleDeleteClick (id) {\n        this.props.deleteBookRequest(id);\n    }\n    \n    handleModalCloseClick() {\n        this.props.detailModalClose();\n        this.setState({\n            isForDelete: false\n        })\n    }\n\n    componentDidMount(){\n        this.props.getBooks();\n    }\n\n    componentWillUnmount() {\n        this.props.releaseData();\n    }\n\n    renderBooks(handleModalShow){\n        if(this.props.books.length === 0){\n            return <tr><td colSpan=\"4\">No books!</td></tr>;\n        }else{\n            return this.props.books.map(function(data, id) {\n                return (\n                    <tr key={id}>\n                        <th scope=\"row\">{id + 1}</th>\n                        <td>{data.title}</td>\n                        <td>{data.isbn}</td>\n                        <td style={{\"padding\":\"5px\"}}>\n                            <button type=\"button\" \n                                className=\"btn btn-outline-info mr-3\" \n                                data-id={data._id} data-toggle=\"modal\" \n                                data-target=\"#exampleModal\" \n                                onClick={handleModalShow(false)}>View</button>\n                            <Link to={\"/manage-book/\" + data._id} className=\"btn btn-outline-warning mr-3\">Update</Link>\n                            <button type=\"button\" \n                                className=\"btn btn-outline-danger\" \n                                data-id={data._id} data-toggle=\"modal\" \n                                data-target=\"#exampleModal\" \n                                onClick={handleModalShow(true)}>Delete</button>\n                        </td>\n                    </tr>\n                );\n            });\n        }\n    }\n\n    render(){\n        return(\n            <div className=\"container\">\n                <div className=\"row\">\n                    <div className=\"col-md-6\">\n                    {Object.keys(this.props.errors).length > 0 &&\n                        <div>\n                            <FlashMessage data={this.props.errors.data?this.props.errors.data:this.props.errors.message} alertClass=\"danger\" />\n                        </div>\n                    }\n                    {Object.keys(this.props.selectedBookError).length > 0 &&\n                        <div>\n                            <FlashMessage data={this.props.selectedBookError.data?this.props.selectedBookError.data:this.props.selectedBookError.message} alertClass=\"danger\" />\n                        </div>\n                    }\n                    {Object.keys(this.props.deleteBook).length > 0 &&\n                        <div>\n                            <FlashMessage data={this.props.deleteBook.data?this.props.deleteBook.data:this.props.deleteBook.message} alertClass=\"success\" />\n                        </div>\n                    }\n                    </div>\n                </div>\n                <div className=\"row\">\n                    <div className=\"col-md-12\">\n                        <h1 className=\"display-4\">My Books <Link to=\"manage-book\" className=\"btn btn-primary btn-sm\">Add Book</Link></h1>\n                        <table className=\"table\">\n                            <thead>\n                                <tr>\n                                    <th scope=\"col\">#</th>\n                                    <th scope=\"col\">Title</th>\n                                    <th scope=\"col\">ISBN</th>\n                                    <th scope=\"col\"></th>\n                                </tr>\n                            </thead>\n                            <tbody>\n                                {this.renderBooks(this.handleModalShowClick)}\n                            </tbody>\n                        </table>\n                    </div>\n                </div>\n                <ViewBookModel handleModalCloseClick={this.handleModalCloseClick} handleDeleteClick={this.handleDeleteClick} selectedBook={this.props.selectedBook} isForDelete={this.state.isForDelete} />\n            </div>\n        );\n    }\n}\n\nBook.propTypes = {\n    books: PropTypes.array\n};\n\nfunction mapStateToProps(state){\n    return { \n        books: state.books.list_book.books,\n        selectedBook: state.books.list_book.selectedBook,\n        errors: state.books.list_book.errors,\n        selectedBookError: state.books.list_book.selectedBookError,\n        deleteBook: state.books.list_book.deleteBook\n    };\n}\n\nfunction mapDispatchToProps(dispatch){\n    return {\n        getBooks: () => dispatch(bookPageInit()),\n        getBookDetail: (id) => dispatch(bookDetailInit(id)),\n        detailModalClose: () => dispatch(bookDetailClose()),\n        deleteBookRequest: (id) => dispatch(bookDeleteInit(id)),\n        releaseData: () => dispatch(releaseStateData()),\n    }; \n}\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps,\n)(withRouter(Book));"],"sourceRoot":""}